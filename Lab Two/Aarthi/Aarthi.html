<!DOCTYPE html>
<html lang="en">
<head>
    <title>Document</title>
    <style>
        input{
            margin-top: 20px;
            width: 150px;
        }
        select{
            width: 150px;
        }
    </style>
</head>
<body>
    <center>
    <h1>Adithi vending Machine</h1>
    <h2>Choose Item</h2>
    <select id="items" onchange="checkAvailability()">
        <option id="1" value="1">four-line note</option>
        <option id="2" value="2">two-line note</option>
        <option id="3" value="3">HB-pencil</option>
        <option id="4" value="4">eraser</option>
        <option id="5" value="5">drawing note</option>
    </select>
    <br/>
    <input id="items_needed" type="text" placeholder="Enter the stock" onkeyup="checkAvailability()"><br>
    <input id="purchase" type="button" value="Purchase" onclick="purchase()">
    <br>
    <p>Stock Availabilty : <span id="stock"></p>
    
    </center>
    <script>
        const items = document.getElementById('items')
        const items_needed = document.getElementById('items_needed')
        const stantionary_items = {
            1:{name:'four-line note',stock:2},
            2:{name:'two-line note',stock:8},
            3:{name:'HB-pencil',stock:10},
            4:{name:'eraser',stock:15},
            5:{name:'drawing note',stock:3}
        }
        
        checkAvailability() 

        function checkAvailability() {
            document.getElementById('stock').innerText = stantionary_items[items.value]['stock']
            if(stantionary_items[items.value]['stock'] >= items_needed.value){
                document.getElementById('stock').style.color = '#00ff00'
                return
            }
            document.getElementById('stock').style.color = '#ff0000'
        }

        function purchase(){
            if(stantionary_items[items.value]['stock'] >= items_needed.value){
                stantionary_items[items.value]['stock'] -= items_needed.value
            }
            checkAvailability()
        }

    </script>
</body>
</html>